<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://fonts.googleapis.com/css2?family=Black+And+White+Picture&family=Diphylleia&family=Dokdo&family=Gowun+Dodum&family=Lora:ital,wght@0,400..700;1,400..700&family=M+PLUS+1+Code:wght@100..700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Poor+Story&family=Reddit+Mono:wght@200..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            background-color: lightcoral;
        }

        body * {
            font-family: 'Diphylleia';
            color: dimgray;
        }
    </style>
    <script>
        let selcar,carname,carimg;
        function init(){
            //로컬스토리지에 저장한 값을 읽어서 초기화값을 변경해보자
            let photo=localStorage.photo;
            let photoname=localStorage.photoname;
            let sindex = Number(localStorage.selindex);
            //적용
            carimg.setAttribute("src",photo);
            carname.innerText=photoname;
            selcar.selectedIndex=sindex;
        }
        window.onload=function (){
            selcar = document.querySelector(".selcar");
            carname = document.querySelector(".carname");
            carimg = document.getElementsByTagName("img")[0];

            init();

            selcar.onchange=function (){
                let cvalue=this.value;
                let cname = this.options[this.selectedIndex].label;

                carimg.setAttribute("src",cvalue);
                carname.innerText=cname;

                //로컬스토리지에 저장할 내용
                //1. 이미지 src
                localStorage.photo = cvalue;
                //2. 이미지명
                localStorage.photoname = cname;
                //3. 선택한 select의 인덱스
                localStorage.selindex = this.selectedIndex;
            }
        }
    </script>
</head>
<body>
<h6 class="alret alert-success">선택한 값을 유지시켜보자</h6>
<img src="../image/mycar/mycar13.png" width="250">
<h6 class="carname">핑크자동차</h6>

<br><br>

<select class="form-select selcar" style="width: 150px;">
    <script>
        let car = ["mycar13","mycar11","mycar15","mycar7","mycar5"];
        let names =["핑크자동차","노랑자동차","노랑봉고차","노랑미니","초록미니"];
        for(let idx in car){
            let s = `<option value = "../image/mycar/${car[idx]}.png">${names[idx]}</option>`;
            document.write(s);
        }
    </script>
</select>

</body>
</html>